(function($) {	/* openoverlay v4.6 */	var $w = $(window);	$.fn.openOverlay = function(options) {		var opts = $.extend({}, $.fn.openOverlay.defaults, options);		if (options && (options === 'close' || options.close)){			$.fn.openOverlay.closeOverlay(opts.quickClose);			return;		}				if (!$('#overlayLayer').length){			var occ,i,iLength,			h = $w.height(),$ol,			$docbody = $(document.body);  			if (!h) h=100000;			$ol = $('<div id="overlayLayer" style="'+				'text-align:center; z-index:1000; width:100%; position:absolute; top:0px; bottom:0px; left:0px; right:0px;'+				'background:'+opts.sColor+'; height:'+h+'px"></div>')				.fadeTo(0,'0.' + opts.iOpacity)				.appendTo($docbody);						$w.bind('scroll.openOverlay',scrollResize)				.bind('resize.openOverlay',scrollResize);			$docbody.append('<div id="overlayContentContainer" style="float:left;  position:absolute; top:0; left:0;"></div>');						if (opts.closeOnClick){				setTimeout(function(){					$ol.click(function(){						$.fn.openOverlay.closeOverlay(opts.quickClose);					});				},1000)			}			fillrUp(1);		}		occ = $('#overlayContentContainer');		iLength = this.length;		return this.each(function(i) {			var $b,$c,$this = $(this);			/* enable content restoration */ 			if(opts.restoreContent){				$b = $('<span class="overlayPlaceHolder"></span>');				$this.after($b);				$c = $('<div class="overlayPlaceHolder"></div>');				$c.append(this).data('overlayPlaceHolder',$b);				occ.append($c);			}else{				occ.append(this);			}						if (i===iLength-1) positionOverlayContent();		});				function scrollResize(){			fillrUp(opts.stickyContent);		}	};				function positionOverlayContent(){		var o = $('#overlayContentContainer'),		h = $w.height(),		ww = $w.width();		if(!h) h=100000;		o.css({			marginTop: h/2 - o.outerHeight()/2 + $w.scrollTop() + 'px',			marginLeft: ww/2  - o.outerWidth()/2 + $w.scrollLeft()+'px',			left:'0',position:'absolute',zIndex:'1001'		});	};		function fillrUp(stickyContent){		var h = $w.height();		if (h) $('#overlayLayer').height(h);				$('#overlayLayer').css({			top:$w.scrollTop()+'px',			left:$w.scrollLeft()+'px'		});		if (stickyContent)			positionOverlayContent();	};		$.fn.openOverlay.positionContent = positionOverlayContent;	$.fn.openOverlay.closeOverlay = function(quickly){		var $ov,$dt,		$obj = $('#overlayLayer,#overlayContentContainer'),		removeit = function(){				$ov = $(this).find('.overlayPlaceHolder');				if (this.id === 'overlayContentContainer' && $ov.length){					$ov.each(function(){						$dt = $(this).data('overlayPlaceHolder');						if($dt){							$dt.replaceWith(this.childNodes[0]);						}else{							$(this).remove();						}					});				}			$(this).remove();		};				$w.unbind('scroll.openOverlay')			.unbind('resize.openOverlay');		if (quickly)			removeit.apply($obj);		else						$obj.fadeOut('fast',removeit);	};	$.fn.openOverlay.defaults = {			iOpacity:70,			sColor:'#444444',			restoreContent:false,			closeOnClick:false,			quickClose:false,			stickyContent:true	};})(jQuery); 